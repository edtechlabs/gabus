(()=>{"use strict";let e=function(e){return e.Run="run",e.SetSharedBuffers="setSharedBuffers",e}({}),t=function(e){return e[e.Waiting=0]="Waiting",e[e.Ready=1]="Ready",e}({}),r=function(e){return e[e.NoInterrupt=0]="NoInterrupt",e[e.Sigint=2]="Sigint",e}({}),n=function(e){return e.WorkerReady="workerReady",e.ExecutionSucceeded="executionSucceeded",e.ExecutionError="executionError",e.OverriddenExitOrQuitCalled="overriddenExitOrQuitCalled",e.StdinRequest="stdinRequest",e.StdoutUpdate="stdoutUpdate",e.StderrUpdate="stderrUpdate",e}({});const i="exit() called. The default `exit` function is disabled.",o="quit() called. The default `quit` function is disabled.";let d,s=()=>{throw new Error("resolvePyodideProm was called before it was set by the Promise callback.")},u=e=>{throw e};const c=new Promise(((e,t)=>{s=e,u=t}));let a,l="",f=()=>{},w=()=>{},S=()=>{},h=()=>{};self.onmessage=s=>{const{data:u}=s;if(u.kind===e.SetSharedBuffers)return void c.then((e=>{a=u.stdinBusBuffer;const{waitBuffer:i}=u;f=()=>{Atomics.store(new Int32Array(i),0,t.Waiting)},w=()=>{Atomics.wait(new Int32Array(i),0,t.Waiting),h()};const{interruptBuffer:o}=u;e.setInterruptBuffer(new Int32Array(o)),S=()=>{Atomics.store(new Int32Array(o),0,r.NoInterrupt)},h=()=>{e.checkInterrupt()},e.registerJsModule("js",{}),e.registerJsModule("pyodide_js",{}),e.registerJsModule("koja",{print_info:()=>{p((new TextEncoder).encode("Koja v".concat("1.0.12","\nCopyright 2024 Kyle Lin.\n")))}}),E({kind:n.WorkerReady})}));if(u.kind===e.Run)return l="",S(),void c.then((e=>{var t;d=null!==(t=d)&&void 0!==t?t:(()=>{const t=()=>{throw new Error(i)};t.toString=()=>"Use exit() or Ctrl-D (i.e. EOF) to exit";const r=()=>{throw new Error(o)};return r.toString=()=>{},e.toPy({exit:t,quit:r})})();try{const t=u.overrideExitAndQuit?{locals:d,globals:d}:{};e.runPython(u.code,t),E({kind:n.ExecutionSucceeded})}catch(r){const e=String(r);if(e.includes(i)||e.includes(o))return void E({kind:n.OverriddenExitOrQuitCalled});E({kind:n.ExecutionError,errorString:e})}}))},self.importScripts("/pyodide_0.26.1/pyodide.js");function y(){if(void 0===a)throw new Error("Called handleStdinRequest before stdinBusBuffer was set.");for(;;){const e=l.indexOf("\n");if(-1!==e){const t=l.slice(0,e+1);return l=l.slice(e+1),t}f(),E({kind:n.StdinRequest}),w();const t=new Uint32Array(a)[0],r=new Uint8Array(a,4,t).slice();Atomics.store(new Uint32Array(a),0,0);const i=(new TextDecoder).decode(r);l+=i}}function p(e){if(void 0===a)throw new Error("Called handleStdoutRequest before stdinBusBuffer was set.");const t=e.length;return f(),E({kind:n.StdoutUpdate,output:e}),w(),t}function g(e){if(void 0===a)throw new Error("Called handleStderrRequest before stdinBusBuffer was set.");const t=e.length;return f(),E({kind:n.StderrUpdate,output:e}),w(),t}function E(e){self.postMessage(e)}(0,self.loadPyodide)().then((e=>{e.setStdin({stdin:y}),e.setStdout({write:p}),e.setStderr({write:g}),s(e)}),u)})();
//# sourceMappingURL=924.1abfe40f.chunk.js.map